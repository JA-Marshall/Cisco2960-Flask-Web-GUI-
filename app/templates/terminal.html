
<html>
    <head>
        <title>Cisco Switch Manager</title>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
        <style>
            body {
                display: flex;
                font-family: 'Roboto', sans-serif;
            }
            #sidebar { width: 200px; background: #f0f0f0; padding: 20px; }
            #content { flex-grow: 1; padding: 20px; }
            #terminal {
                height: 300px;
                display: flex;
                flex-direction: column;
                background-color: #333;
                color: #fff;
                margin-top: 20px;
            }
            #output {
                height: 90%;
                background-color: #000;
                color: #0f0;
                border: none;
                padding: 10px;
                overflow-y: auto;
                resize: none;
            }
            #input {
                height: 30px;
                background-color: #000;
                color: #0f0;
                border: none;
                padding: 5px;
            }
        </style>
    </head>
<body>
    <div id="sidebar">
        <h3>Menu</h3>
        <ul>
            <li><a href="/ports">Ports</a></li>
            <li><a href="/health">Health</a></li>
            <li><a href="/device_info">Device Info</a></li>
            <li><a href="/terminal">Manual Mode</a></li>
        </ul>
    </div>
    <div id="content">
        <!-- Terminal UI in the content block -->
        <div id="terminal">
            <textarea id="output" readonly></textarea>
            <input type="text" id="input" placeholder="Enter command here..." autofocus>
        </div>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.0/socket.io.js"></script>
        <script>
            const socket = io();

            document.getElementById('input').addEventListener('keypress', function(event) {
                if (event.key === 'Enter') {
                    event.preventDefault();
                    const command = event.target.value;
                    socket.emit('command', {cmd: command});
                    event.target.value = ''; // Clear input after command is entered
                }
            });

            socket.on('response', function(data) {
                const output = document.getElementById('output');
                output.value += `\n${data.message}`;
                output.scrollTop = output.scrollHeight; // Scroll to bottom
            });
        </script>

    </div>
</body>
</html>